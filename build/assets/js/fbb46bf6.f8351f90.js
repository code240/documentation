"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[961],{8766:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>x,frontMatter:()=>t,metadata:()=>o,toc:()=>d});var s=i(4848),a=i(8453);const t={sidebar_position:1},l="Nginx tutorial",o={id:"aws- amazon web server/nginx-tutorial",title:"Nginx tutorial",description:"To install and set up Nginx on an AWS EC2 instance running Ubuntu, follow these steps:",source:"@site/docs/aws- amazon web server/nginx-tutorial.md",sourceDirName:"aws- amazon web server",slug:"/aws- amazon web server/nginx-tutorial",permalink:"/docs/aws- amazon web server/nginx-tutorial",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"AWS - Amazon web service.",permalink:"/docs/category/aws---amazon-web-service"},next:{title:"Php installation",permalink:"/docs/aws- amazon web server/php-installation"}},r={},d=[{value:"Update Package List:",id:"update-package-list",level:4},{value:"Install Nginx:",id:"install-nginx",level:3},{value:"Start Nginx Service",id:"start-nginx-service",level:3},{value:"Enable Nginx to Start on Boot:",id:"enable-nginx-to-start-on-boot",level:3},{value:"Check Nginx Status:",id:"check-nginx-status",level:3},{value:"Configure Firewall (if using UFW):",id:"configure-firewall-if-using-ufw",level:3},{value:"Verify Nginx Installation",id:"verify-nginx-installation",level:3},{value:"Configure Nginx (Optional):",id:"configure-nginx-optional",level:3},{value:"After making changes, test the Nginx configuration:",id:"after-making-changes-test-the-nginx-configuration",level:3},{value:"Reload nginx :",id:"reload-nginx-",level:3},{value:"If you want to open nginx default page on your domain, Then edit <code>sudo nano /etc/nginx/sites-available/default</code> and add <code>server_name https://example.com;</code>.",id:"if-you-want-to-open-nginx-default-page-on-your-domain-then-edit-sudo-nano-etcnginxsites-availabledefault-and-add-server_name-httpsexamplecom",level:5},{value:"To stop nginx :",id:"to-stop-nginx-",level:3},{value:"Disable nginx :",id:"disable-nginx-",level:3},{value:"Remove Nginx Packages:",id:"remove-nginx-packages",level:3},{value:"Remove Dependencies (Optional):",id:"remove-dependencies-optional",level:3},{value:"Delete Remaining Configuration Files and Directories",id:"delete-remaining-configuration-files-and-directories",level:3},{value:"Verify Removal:",id:"verify-removal",level:3},{value:"Update Package Lists (Optional):",id:"update-package-lists-optional",level:3},{value:"Check access logs :",id:"check-access-logs-",level:3},{value:"Check error logs :",id:"check-error-logs-",level:3}];function c(e){const n={code:"code",h1:"h1",h3:"h3",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"nginx-tutorial",children:"Nginx tutorial"}),"\n",(0,s.jsx)(n.p,{children:"To install and set up Nginx on an AWS EC2 instance running Ubuntu, follow these steps:"}),"\n",(0,s.jsx)(n.h4,{id:"update-package-list",children:"Update Package List:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ssh",children:"sudo apt update\n"})}),"\n",(0,s.jsx)(n.h3,{id:"install-nginx",children:"Install Nginx:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo apt install -y nginx\n"})}),"\n",(0,s.jsx)(n.h3,{id:"start-nginx-service",children:"Start Nginx Service"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo systemctl start nginx\n"})}),"\n",(0,s.jsx)(n.h3,{id:"enable-nginx-to-start-on-boot",children:"Enable Nginx to Start on Boot:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo systemctl enable nginx\n"})}),"\n",(0,s.jsx)(n.h3,{id:"check-nginx-status",children:"Check Nginx Status:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo systemctl status nginx\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configure-firewall-if-using-ufw",children:"Configure Firewall (if using UFW):"}),"\n",(0,s.jsx)(n.p,{children:"Allow HTTP and HTTPS traffic:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo ufw allow 'Nginx Full'\n"})}),"\n",(0,s.jsx)(n.h3,{id:"verify-nginx-installation",children:"Verify Nginx Installation"}),"\n",(0,s.jsx)(n.p,{children:"Open a web browser and navigate to your EC2 instance's public IP address. You should see the Nginx default welcome page."}),"\n",(0,s.jsx)(n.h3,{id:"configure-nginx-optional",children:"Configure Nginx (Optional):"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The default configuration file is located at ",(0,s.jsx)(n.code,{children:"/etc/nginx/sites-available/default"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Edit this file to configure your server blocks (virtual hosts):"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo nano /etc/nginx/sites-available/default\n"})}),"\n",(0,s.jsx)(n.h3,{id:"after-making-changes-test-the-nginx-configuration",children:"After making changes, test the Nginx configuration:"}),"\n",(0,s.jsx)(n.p,{children:"This script checks if the Nginx configuration file has any syntax errors"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo nginx -t\n"})}),"\n",(0,s.jsx)(n.h3,{id:"reload-nginx-",children:"Reload nginx :"}),"\n",(0,s.jsx)(n.p,{children:"Reload Nginx to apply the changes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo systemctl reload nginx\n"})}),"\n",(0,s.jsx)(n.p,{children:"With these steps, Nginx should be installed and running on your AWS EC2 instance. You can now configure it to serve your web applications or sites."}),"\n",(0,s.jsxs)(n.h5,{id:"if-you-want-to-open-nginx-default-page-on-your-domain-then-edit-sudo-nano-etcnginxsites-availabledefault-and-add-server_name-httpsexamplecom",children:["If you want to open nginx default page on your domain, Then edit ",(0,s.jsx)(n.code,{children:"sudo nano /etc/nginx/sites-available/default"})," and add ",(0,s.jsx)(n.code,{children:"server_name https://example.com;"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"to-stop-nginx-",children:"To stop nginx :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo systemctl stop nginx\n"})}),"\n",(0,s.jsx)(n.h3,{id:"disable-nginx-",children:"Disable nginx :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo systemctl disable nginx\n"})}),"\n",(0,s.jsx)(n.h3,{id:"remove-nginx-packages",children:"Remove Nginx Packages:"}),"\n",(0,s.jsx)(n.p,{children:"To remove Nginx and its associated packages, use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo apt remove --purge nginx nginx-common nginx-full\n"})}),"\n",(0,s.jsx)(n.h3,{id:"remove-dependencies-optional",children:"Remove Dependencies (Optional):"}),"\n",(0,s.jsx)(n.p,{children:"If you want to remove unused dependencies that were installed with Nginx, you can run:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo apt autoremove\n"})}),"\n",(0,s.jsx)(n.h3,{id:"delete-remaining-configuration-files-and-directories",children:"Delete Remaining Configuration Files and Directories"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo rm -rf /etc/nginx\r\nsudo rm -rf /var/log/nginx\r\nsudo rm -rf /var/www/html\n"})}),"\n",(0,s.jsx)(n.h3,{id:"verify-removal",children:"Verify Removal:"}),"\n",(0,s.jsx)(n.p,{children:"Ensure that Nginx is no longer installed:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"which nginx\n"})}),"\n",(0,s.jsx)(n.h3,{id:"update-package-lists-optional",children:"Update Package Lists (Optional):"}),"\n",(0,s.jsx)(n.p,{children:"Update the package lists to reflect the changes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo apt update\n"})}),"\n",(0,s.jsx)(n.h3,{id:"check-access-logs-",children:"Check access logs :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo tail -f /var/log/nginx/access.log\n"})}),"\n",(0,s.jsx)(n.h3,{id:"check-error-logs-",children:"Check error logs :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo tail -f /var/log/nginx/error.log\n"})})]})}function x(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var s=i(6540);const a={},t=s.createContext(a);function l(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);